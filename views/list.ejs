<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button onclick="logout()" class="logout hidden">Logout</button>
    <div id="booths"><%= booth %></div>
</body>
</html>
<script>
  const authToken = localStorage.getItem('authToken');

  function logout() {
  fetch("http://localhost:4000/user/logout", {
    method: "GET",
    headers: {
      "Content-Type": "application/json",
      Authorization: `Bearer ${authToken}`,
    },
  })
  .then((response) => response.json())
  .then((data) => {
    if (data.success) {
      // 로그아웃 성공 후 특정 페이지로 리다이렉트
      window.location.href = 'http://localhost:4000/manage/';
    } else {
      // 로그아웃 실패 시 에러 메시지 표시
      alert(data.message || "로그아웃 실패");
    }
  })
  .catch((error) => console.error("Error:", error));
}
</script>